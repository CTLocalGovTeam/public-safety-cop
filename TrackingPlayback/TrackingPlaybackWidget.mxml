<?xml version="1.0" encoding="utf-8"?>
<!--
////////////////////////////////////////////////////////////////////////////////
//
// Copyright (c) 2008-2011 Esri
//
// All rights reserved under the copyright laws of the United States
// and applicable international laws, treaties, and conventions.
//
// You may freely redistribute and use this software, with or
// without modification, provided you include the original copyright
// and use restrictions.  See use restrictions in the file:
// License.txt and/or use_restrictions.txt.
//
////////////////////////////////////////////////////////////////////////////////
-->
<viewer:BaseWidget xmlns:fx="http://ns.adobe.com/mxml/2009" 
				   xmlns:s="library://ns.adobe.com/flex/spark" 
				   xmlns:mx="library://ns.adobe.com/flex/mx" 
				   xmlns:viewer="com.esri.viewer.*" 
				   xmlns:view="widgets.TrackingPlayback.view.*"
				   x="600"
				   y="300"
				   preinitialize="preinitializeHandler(event)" 
				   widgetConfigLoaded="widgetConfigLoadedHandler(event)" 
				   >
	<fx:Script>
		<![CDATA[
			import mx.events.FlexEvent;
			
			import widgets.TrackingPlayback.controller.AppController;
			
			private var _appController:Object;
			
			protected function preinitializeHandler(event:FlexEvent):void
			{
				_appController = new AppController();
			}
			
			protected function widgetConfigLoadedHandler(event:Event):void
			{
				if(configXML)
					_appController.initConfig(map,configXML);
			}
			
		]]>
	</fx:Script>
	<!-- MAIN WIDGET COMPONENT -->
	<viewer:WidgetTemplate id="wTemplate"
						   minimized="_appController.minimized(event)"
						   closed="_appController.closed(event)"
						   open="_appController.open(event)"
						   height="475"
						   width="420"
						   >
		<view:MainView id="mainView" width="100%" height="100%"/>
	</viewer:WidgetTemplate>
	
</viewer:BaseWidget>
